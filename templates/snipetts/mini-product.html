{% load i18n %} 
{% load static %}
<div class="product-widget">
    <div class="product-img">
        <a href="{{product.get_absolute_url}}">
            {% if product.photos.all.0 %}
            <div class="product-preview">
                <img style="  width: 100%; height: auto;" src="{{product.photos.all.0.photo.url}}" alt="{{product.name|truncatechars:7}}">
            </div>
        {% else %}
            <div class="product-preview">
                <img src="{% static "img/no-photo.jpg" %}" alt="">
            </div>
        {% endif %}
        </a>
    </div>
    <div class="product-body">
        <p class="product-category"><a href="{{product.sous_category.get_absolute_url}}">{{product.sous_category}}</a></p>
        <h3 class="product-name"><a href="{{product.get_absolute_url}}">{{product.name}}</a></h3>
        <h4 class="product-price">{{product.price}}</h4>
    </div>
</div>